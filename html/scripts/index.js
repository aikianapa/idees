function e(e,t,s,o){const i=document.querySelector("body"),l=document.querySelector(t),n=document.querySelectorAll(e),c=document.querySelectorAll(s),a=document.querySelectorAll(o);c.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),n.forEach((e=>{e.classList.remove("modal-open"),i.classList.remove("has-modal")})),l.classList.add("modal-open"),i.classList.add("has-modal")}))})),a.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),l.classList.remove("modal-open"),i.classList.remove("has-modal")}))}))}function t(){const e=document.querySelector("body"),t=document.querySelectorAll(".popup-image"),s=window.matchMedia("(min-width: 1200px)");function o(){t.forEach((t=>{t.onclick=function(){const t=this;t.classList.add("popup__image"),t.onclick=null;const s=document.createElement("div");s.classList.add("popup"),s.onclick=()=>{s.remove()};const o=document.createElement("button");o.classList.add("popup__button"),o.setAttribute("type","button"),o.onclick=e=>{e.preventDefault(),s.remove()},e.append(s),s.append(t),s.append(o)}}))}t.length&&s.matches&&o(),window.addEventListener("resize",(()=>{t.length&&s.matches?o():t.forEach((e=>{e.onclick=null}))}))}function s(){const e=document.querySelector(".js-feedback-slider");if(e){const s=1;let o,i=e.querySelector(".js-feedback-slider-list"),l=i.children[1].getBoundingClientRect().left-i.children[0].getBoundingClientRect().left;function t(e,t){for(let s=0;s<t;s++)e.children[s].classList.add("active")}t(i,s),window.addEventListener("resize",(()=>{l=i.children[1].getBoundingClientRect().left-i.children[0].getBoundingClientRect().left})),e.addEventListener("click",(n=>{n.target.closest(".js-feedback-slider-button--next")&&function(){o=!0;const n=i.firstElementChild.cloneNode(!0);n.classList.remove("active"),i.append(n),i.style.transform=`translateX(-${l}px)`,i=e.querySelector(".js-feedback-slider-list"),t(i,s)}()})),e.addEventListener("transitionend",(()=>{o&&(i.firstElementChild.remove(),i.style.transition="none",i.style.transform="translateX(0)",o=!1,setTimeout((()=>{i.style.transition="transform 0.5s"}),50),i=e.querySelector(".js-feedback-slider-list"),t(i,s))}))}}function o(){const e=document.querySelector(".js-slider");if(e){const i=window.innerWidth>=860?4:1;let l,n=e.querySelector(".js-slider-list"),c=t,a=s,r=n.children[1].getBoundingClientRect().left-n.children[0].getBoundingClientRect().left;function t(){if(l=1,null!==c){c=null,n.style.transition="none",n.style.transform=`translateX(-${r}px)`;const t=n.lastElementChild.cloneNode(!0);t.classList.add("active"),n.prepend(t),o(n,i),setTimeout((()=>{n.style.transition="0.5s",n.style.transform="translateX(0)"}),50),n=e.querySelector(".js-slider-list")}}function s(){if(l=-1,null!==a){const t=n.firstElementChild.cloneNode(!0);t.classList.remove("active"),n.append(t),n.style.transform=`translateX(-${r}px)`,o(n,i),n=e.querySelector(".js-slider-list"),a=null}}function o(e,t){if(window.innerWidth<1700)for(let t=0;t<e.childElementCount;t++)e.children[t].classList.add("active");else for(let s=0;s<e.childElementCount;s++)e.children[s].classList.remove("active"),s<t&&e.children[s].classList.add("active")}o(n,i),window.addEventListener("resize",(()=>{r=n.children[1].getBoundingClientRect().left-n.children[0].getBoundingClientRect().left,o(n,i)})),e.addEventListener("click",(e=>{e.target.closest(".js-slider-button--prev")&&c(),e.target.closest(".js-slider-button--next")&&a()})),e.addEventListener("transitionend",(()=>{l&&function(){-1===l?(n.firstElementChild.remove(),n.style.transition="none",n.style.transform="translateX(0)",l=void 0,setTimeout((()=>{n.style.transition="0.5s",a=s}),50)):1===l&&(n.lastElementChild.remove(),c=t,l=void 0);n=e.querySelector(".js-slider-list"),o(n,i)}()}))}}document.addEventListener("DOMContentLoaded",(()=>{e(".modal",".form-section",".js-form-open",".js-form-close"),e(".modal",".menu",".js-menu-open",".js-menu-close"),function(){const e=document.querySelector(".cookies-block");if(localStorage.getItem("isCookiesAccepted"))e.remove();else{const t=e.querySelector(".cookies-block__accept-button");e.classList.add("cookies-block--active"),t.addEventListener("click",(t=>{t.preventDefault(),e.classList.remove("cookies-block--active"),localStorage.setItem("isCookiesAccepted",!0),setTimeout((()=>{e.remove()}),2e3)}))}}(),function(){const e=document.querySelector(".mailing-block");if(e)if(!localStorage.getItem("isCookiesAccepted")||localStorage.getItem("isSubscribeCanceled")||localStorage.getItem("isSubscribed"))e.remove();else{const t=e.querySelector(".mailing-block__form"),s=e.querySelector(".mailing-block__close-button");setTimeout((()=>{e.classList.add("mailing-block--active"),t.addEventListener("submit",(()=>{e.classList.remove("mailing-block--active"),localStorage.setItem("isSubscribed",!0),setTimeout((()=>{e.remove()}),2e3)})),s.addEventListener("click",(()=>{e.classList.remove("mailing-block--active"),localStorage.setItem("isSubscribeCanceled",!0),setTimeout((()=>{e.remove()}),2e3)}))}),3e4)}}(),function(){const e=document.querySelector("form");if(e){const t=e.querySelectorAll("input[required]"),s=e.querySelector('button[type="submit"]'),o=e.querySelector('input[type="file"]');s.addEventListener("click",(()=>{t.forEach((e=>{e.value||e.classList.add("form__text-field--warning"),e.value&&e.classList.remove("form__text-field--warning")}))})),o.addEventListener("change",(function(){this.value?this.classList.add("form__input-file--attached"):this.classList.remove("form__input-file--attached")}))}}(),function(){const e=document.querySelector(".projects");if(e){const t=e.querySelector(".cases-section__list"),s=e.querySelector(".js-toogle-blocks"),o=e.querySelector(".js-toogle-lines");s.classList.add("projects__toogle-button--active"),t.classList.add("cases-section__list--blocks"),s.addEventListener("click",(e=>{e.preventDefault(),s.classList.add("projects__toogle-button--active"),o.classList.remove("projects__toogle-button--active"),t.classList.add("cases-section__list--blocks")})),o.addEventListener("click",(e=>{e.preventDefault(),s.classList.remove("projects__toogle-button--active"),o.classList.add("projects__toogle-button--active"),t.classList.remove("cases-section__list--blocks")}))}}(),function(){const e=document.querySelector(".up-button");e&&(window.addEventListener("scroll",(()=>{window.scrollY>800?e.classList.add("up-button--active"):e.classList.remove("up-button--active")})),e.addEventListener("click",(e=>{e.preventDefault(),window.scrollTo(0,0)})))}(),function(){const e=document.querySelector(".main-section__scene-img"),t=document.querySelector(".animation-target");function s(e,t,s){e.style.setProperty("--position-x",`${t}px`),e.style.setProperty("--position-y",`${s}px`)}e&&t&&(t.x=t.offsetLeft+t.clientWidth/2-e.clientWidth/2,t.y=t.offsetTop+t.clientHeight/2-e.clientHeight/2,s(e,t.x,t.y),window.addEventListener("resize",(()=>{t.x=t.offsetLeft+t.clientWidth/2-e.clientWidth/2,t.y=t.offsetTop+t.clientHeight/2-e.clientHeight/2,s(e,t.x,t.y)})))}(),t(),function(e,t,s,o){const i=document.querySelectorAll(e);i.forEach((e=>{e.collapseItem=e.closest(t),e.collapseButton=e.collapseItem.querySelector(s),e.collapseContainer=e.collapseItem.querySelector(o),e.collapseContainer.classList.add("active"),e.collapseContainer.style.height="auto",e.containerHeight=e.collapseContainer.clientHeight+"px",e.collapseContainer.classList.remove("active"),e.collapseButton.setAttribute("aria-label","Развернуть"),e.collapseContainer.classList.remove("active"),e.collapseContainer.style.height="0px",e.onclick=function(e){e.preventDefault(),i.forEach((t=>{t.contains(e.target)&&!t.collapseContainer.classList.contains("active")?(t.collapseItem.classList.add("opened"),t.collapseButton.setAttribute("aria-label","Свернуть"),t.collapseContainer.classList.add("active"),t.collapseContainer.style.height=t.containerHeight):(!t.contains(e.target)||t.contains(e.target)&&t.collapseContainer.classList.contains("active"))&&(t.collapseItem.classList.remove("opened"),t.collapseButton.setAttribute("aria-label","Развернуть"),t.collapseContainer.style.height="0px",setTimeout((()=>{t.collapseContainer.classList.remove("active")}),200))}))}}))}(".collapse-item__title-wrapper",".collapse-item",".collapse-item__button",".collapse-item__container"),function(){const e=document.querySelector(".js-video");if(e){const t=document.querySelector(".js-play"),s=document.querySelector(".js-pause");t.addEventListener("click",(()=>{e.play(),t.classList.toggle("video-section__button--active"),s.classList.toggle("video-section__button--active"),e.classList.add("video-section__video--playing")})),s.addEventListener("click",(()=>{e.pause(),t.classList.toggle("video-section__button--active"),s.classList.toggle("video-section__button--active"),e.classList.remove("video-section__video--playing")}))}}(),function(){const e=document.querySelector("body"),t=e.querySelectorAll(".js-theme");let s=!0;function o(e,t,s){e.style.setProperty("--position-x",`${t}px`),e.style.setProperty("--position-y",`${s}px`)}t.forEach((t=>{t.addEventListener("click",(i=>{if(i.preventDefault(),s)if(s=!1,t.x=t.offsetLeft+t.clientWidth/2,t.y=t.offsetTop+t.clientHeight/2,localStorage.getItem("darkTheme")){localStorage.removeItem("darkTheme");const i=document.createElement("div");i.classList.add("dark-light-animation"),o(i,t.x,t.y),e.append(i),e.classList.add("light-button"),setTimeout((()=>{e.classList.add("light-typo")}),300),setTimeout((()=>{e.classList.remove("dark"),e.classList.remove("light-typo"),e.classList.remove("light-button")}),1300),setTimeout((()=>{i.remove(),s=!0}),1500)}else{localStorage.setItem("darkTheme",!0);const i=document.createElement("div");i.classList.add("light-dark-animation"),o(i,t.x,t.y),e.append(i),e.classList.add("dark-button"),setTimeout((()=>{e.classList.add("dark-typo")}),300),setTimeout((()=>{e.classList.add("dark"),e.classList.remove("dark-typo"),e.classList.remove("dark-button")}),1300),setTimeout((()=>{i.remove(),s=!0}),1500)}}))}))}(),s(),o();const i=document.getElementById("scene");i&&new Parallax(i)}));
